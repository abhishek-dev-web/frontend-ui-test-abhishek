"use client";

import {
  Card,
  CardContent,
  Box,
} from "@mui/material";

import {
  ResponsiveContainer,
  BarChart,
  Bar,
  YAxis,
} from "recharts";

const barData = [
  { day: "Mon", value: 400 },
  { day: "Tue", value: 300 },
  { day: "Wed", value: 200 },
  { day: "Thu", value: 350 },
  { day: "Fri", value: 500 },
  { day: "Sat", value: 420 },
  { day: "Sun", value: 480 },
];

const stats = [
  {
    label: "Users",
    value: "32,984",
    progress: 70,
    icon: <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M2.33148 2.53788H10.144C10.2352 2.53784 10.3264 2.54363 10.4169 2.55522C10.3862 2.33983 10.3123 2.13289 10.1994 1.94686C10.0866 1.76084 9.93729 1.5996 9.76046 1.47284C9.58364 1.34609 9.38297 1.25646 9.17057 1.20936C8.95817 1.16226 8.73843 1.15866 8.5246 1.19877L2.09955 2.2957H2.09222C1.68892 2.37282 1.33028 2.601 1.08954 2.93363C1.45223 2.67566 1.8864 2.53731 2.33148 2.53788Z" fill="white" />
      <path d="M10.1441 3.12491H2.3316C1.91734 3.12536 1.52018 3.29013 1.22725 3.58305C0.934322 3.87598 0.769556 4.27315 0.769104 4.68741V9.37491C0.769556 9.78917 0.934322 10.1863 1.22725 10.4793C1.52018 10.7722 1.91734 10.937 2.3316 10.9374H10.1441C10.5584 10.937 10.9555 10.7722 11.2485 10.4793C11.5414 10.1863 11.7061 9.78917 11.7066 9.37491V4.68741C11.7061 4.27315 11.5414 3.87598 11.2485 3.58305C10.9555 3.29013 10.5584 3.12536 10.1441 3.12491ZM8.98443 7.81241C8.82992 7.81241 8.67887 7.76659 8.55039 7.68074C8.42192 7.5949 8.32178 7.47288 8.26265 7.33013C8.20352 7.18737 8.18805 7.03029 8.2182 6.87874C8.24834 6.7272 8.32275 6.58799 8.43201 6.47873C8.54127 6.36947 8.68047 6.29506 8.83202 6.26492C8.98357 6.23477 9.14065 6.25025 9.28341 6.30938C9.42616 6.36851 9.54817 6.46864 9.63402 6.59712C9.71986 6.72559 9.76568 6.87664 9.76568 7.03116C9.76568 7.23836 9.68337 7.43707 9.53686 7.58358C9.39035 7.7301 9.19163 7.81241 8.98443 7.81241Z" fill="white" />
      <path d="M0.78125 6.33411V3.90491C0.78125 3.37585 1.07422 2.48889 2.09106 2.29675C2.9541 2.13489 3.80859 2.13489 3.80859 2.13489C3.80859 2.13489 4.37012 2.52551 3.90625 2.52551C3.44238 2.52551 3.45459 3.12366 3.90625 3.12366C4.35791 3.12366 3.90625 3.69739 3.90625 3.69739L2.0874 5.76038L0.78125 6.33411Z" fill="white" />
    </svg>
  },
  {
    label: "Clicks",
    value: "2,42m",
    progress: 85,
    icon: <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M11.6611 0.934623C11.6566 0.913031 11.6461 0.893157 11.6308 0.877331C11.6154 0.861505 11.5959 0.850382 11.5744 0.845268C10.1445 0.495659 6.84055 1.74151 5.05051 3.53081C4.73124 3.8475 4.44019 4.19141 4.18064 4.55864C3.62864 4.50982 3.07664 4.55059 2.60618 4.75567C1.27879 5.33989 0.892311 6.86431 0.784646 7.52007C0.778539 7.55596 0.780842 7.59278 0.791375 7.62763C0.801908 7.66248 0.820383 7.69442 0.845347 7.72092C0.870311 7.74742 0.901083 7.76777 0.935244 7.78036C0.969404 7.79296 1.00602 7.79746 1.04221 7.79351L3.1738 7.5584C3.17533 7.71911 3.18502 7.87963 3.20286 8.03935C3.21358 8.15027 3.26282 8.25393 3.34202 8.33232L4.16746 9.15581C4.24592 9.2349 4.34954 9.28412 4.46043 9.29497C4.61925 9.31274 4.77888 9.32243 4.9387 9.32402L4.70481 11.4529C4.70091 11.4891 4.70544 11.5257 4.71805 11.5598C4.73067 11.594 4.75102 11.6247 4.77751 11.6497C4.804 11.6746 4.83591 11.6931 4.87074 11.7037C4.90556 11.7142 4.94236 11.7166 4.97825 11.7105C5.63279 11.6055 7.15989 11.219 7.7407 9.89165C7.94578 9.42119 7.98777 8.87187 7.9404 8.32256C8.30853 8.063 8.65334 7.77186 8.97092 7.45244C10.7666 5.66582 12.0053 2.4356 11.6611 0.934623ZM7.17942 5.32109C7.01545 5.15724 6.90377 4.94843 6.85849 4.72109C6.81321 4.49374 6.83637 4.25808 6.92504 4.0439C7.01372 3.82973 7.16392 3.64666 7.35665 3.51786C7.54938 3.38906 7.77598 3.32031 8.00779 3.32031C8.23959 3.32031 8.4662 3.38906 8.65893 3.51786C8.85166 3.64666 9.00186 3.82973 9.09053 4.0439C9.1792 4.25808 9.20237 4.49374 9.15709 4.72109C9.11181 4.94843 9.00012 5.15724 8.83615 5.32109C8.72743 5.42998 8.5983 5.51636 8.45616 5.57529C8.31402 5.63423 8.16166 5.66456 8.00779 5.66456C7.85391 5.66456 7.70155 5.63423 7.55941 5.57529C7.41727 5.51636 7.28815 5.42998 7.17942 5.32109Z" fill="white" />
      <path d="M4.11133 9.7523C3.97754 9.88634 3.76294 9.93858 3.50464 9.98326C2.92432 10.0821 2.41186 9.58067 2.51611 8.994C2.55591 8.77159 2.67358 8.45982 2.74683 8.38658C2.76283 8.37088 2.77349 8.35054 2.77728 8.32844C2.78107 8.30634 2.7778 8.28361 2.76793 8.26347C2.75807 8.24333 2.74211 8.22682 2.72232 8.21627C2.70254 8.20572 2.67993 8.20167 2.65771 8.2047C2.33319 8.2444 2.03128 8.39154 1.80005 8.62267C1.22607 9.19713 1.17188 11.3287 1.17188 11.3287C1.17188 11.3287 3.30469 11.2745 3.87866 10.7001C4.11051 10.469 4.25783 10.1666 4.29687 9.84166C4.30591 9.73961 4.18164 9.67882 4.11133 9.7523Z" fill="white" />
    </svg>
  },
  {
    label: "Sales",
    value: "2,400$",
    progress: 60,
    icon: <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M4.29681 10.9375C4.72829 10.9375 5.07806 10.5877 5.07806 10.1562C5.07806 9.72473 4.72829 9.37495 4.29681 9.37495C3.86534 9.37495 3.51556 9.72473 3.51556 10.1562C3.51556 10.5877 3.86534 10.9375 4.29681 10.9375Z" fill="white" />
      <path d="M9.76556 10.9375C10.197 10.9375 10.5468 10.5877 10.5468 10.1562C10.5468 9.72473 10.197 9.37495 9.76556 9.37495C9.33409 9.37495 8.98431 9.72473 8.98431 10.1562C8.98431 10.5877 9.33409 10.9375 9.76556 10.9375Z" fill="white" />
      <path d="M11.1523 2.94887C11.0974 2.88174 11.0283 2.82768 10.9499 2.7906C10.8715 2.75352 10.7859 2.73436 10.6992 2.73451H3.26874L3.11908 1.88539C3.10312 1.79494 3.0558 1.71301 2.98544 1.65399C2.91507 1.59496 2.82616 1.56262 2.73431 1.56264H1.17181C1.06821 1.56264 0.968857 1.60379 0.8956 1.67705C0.822344 1.75031 0.781189 1.84966 0.781189 1.95326C0.781189 2.05686 0.822344 2.15622 0.8956 2.22948C0.968857 2.30273 1.06821 2.34389 1.17181 2.34389H2.40668L3.52142 8.66176C3.53738 8.7522 3.5847 8.83414 3.65506 8.89316C3.72543 8.95219 3.81434 8.98453 3.90619 8.98451H10.1562C10.2598 8.98451 10.3591 8.94336 10.4324 8.8701C10.5057 8.79684 10.5468 8.69749 10.5468 8.59389C10.5468 8.49028 10.5057 8.39093 10.4324 8.31767C10.3591 8.24441 10.2598 8.20326 10.1562 8.20326H4.23382L4.09613 7.42201H9.99603C10.1315 7.42184 10.2627 7.37487 10.3676 7.28905C10.4724 7.20323 10.5443 7.08383 10.5712 6.95106L11.2743 3.43544C11.2913 3.35036 11.2891 3.26257 11.268 3.17843C11.2469 3.09428 11.2074 3.01588 11.1523 2.94887Z" fill="white" />
    </svg>
  },
  {
    label: "Items",
    value: "320",
    progress: 45,
    icon: <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M11.4639 2.94285C11.4358 2.88814 11.3951 2.84085 11.3453 2.80483C11.2954 2.76881 11.2377 2.74507 11.177 2.73555C11.1162 2.72604 11.054 2.73101 10.9955 2.75006C10.937 2.76911 10.8839 2.80171 10.8404 2.84519L9.34037 4.34617C9.26674 4.41873 9.16751 4.45941 9.06412 4.45941C8.96074 4.45941 8.86151 4.41873 8.78788 4.34617L8.13944 3.69675C8.10316 3.66048 8.07438 3.61741 8.05474 3.57002C8.03511 3.52262 8.025 3.47181 8.025 3.42051C8.025 3.3692 8.03511 3.3184 8.05474 3.271C8.07438 3.2236 8.10316 3.18054 8.13944 3.14426L9.63309 1.65037C9.67787 1.6056 9.71109 1.55061 9.7299 1.49015C9.7487 1.42969 9.75253 1.36556 9.74105 1.30329C9.72956 1.24102 9.70312 1.18248 9.66398 1.1327C9.62484 1.08293 9.57419 1.04341 9.51639 1.01756V1.01756C8.38822 0.513162 6.98002 0.776345 6.09208 1.65769C5.33769 2.40672 5.11283 3.57713 5.47562 4.86887C5.49519 4.93776 5.4953 5.01071 5.47595 5.07966C5.4566 5.1486 5.41855 5.21085 5.36601 5.2595L1.30155 8.97166C1.14321 9.11382 1.0155 9.28675 0.926193 9.4799C0.836889 9.67306 0.78787 9.88237 0.782126 10.0951C0.776382 10.3078 0.814034 10.5195 0.892785 10.7172C0.971536 10.9148 1.08974 11.0944 1.24017 11.2449C1.39061 11.3954 1.57013 11.5137 1.76778 11.5925C1.96544 11.6714 2.17708 11.7091 2.3898 11.7035C2.60252 11.6978 2.81186 11.6489 3.00505 11.5597C3.19824 11.4705 3.37123 11.3428 3.51347 11.1845L7.26542 7.11106C7.31337 7.05919 7.37456 7.02139 7.44241 7.00173C7.51025 6.98207 7.58218 6.9813 7.65043 6.99949C8.01819 7.10025 8.39754 7.15254 8.77885 7.15501C9.59428 7.15501 10.3099 6.89109 10.826 6.38254C11.7818 5.44089 11.9275 3.84373 11.4639 2.94285ZM2.42924 10.9172C2.26845 10.9348 2.10617 10.902 1.96481 10.8234C1.82345 10.7448 1.70997 10.6242 1.64003 10.4784C1.57009 10.3325 1.54714 10.1686 1.57435 10.0091C1.60156 9.8497 1.67759 9.70264 1.79194 9.58825C1.90629 9.47385 2.05333 9.39777 2.21276 9.37051C2.37219 9.34324 2.53616 9.36613 2.68203 9.43602C2.8279 9.5059 2.94848 9.61934 3.02713 9.76068C3.10578 9.90201 3.13863 10.0643 3.12113 10.2251C3.10189 10.402 3.02281 10.567 2.89699 10.6929C2.77117 10.8188 2.60615 10.8979 2.42924 10.9172V10.9172Z" fill="white" />
    </svg>
  },
];

export default function ActiveUsers() {
  return (
    <Card sx={{ height: "100%", borderRadius: 3 }}>
      <CardContent>
        <Box
          sx={{
            height: 120,
            mb: 2,
            borderRadius: 2,
            background: "linear-gradient(135deg, #313860, #151928)",
            p: 2,
          }}
        >
          <ResponsiveContainer width="100%" height="100%">
            <BarChart data={barData}>
              <YAxis
                domain={[0, "dataMax"]}
                ticks={[0, 100, 200, 300, 400, 500]}
                interval={0}
                stroke="#9ca3af"
                tickLine={false}
                axisLine={false}
                width={30}
                tick={{ fontSize: 8 }}
              />
              <Bar dataKey="value" fill="white" radius={6} barSize={8} />
            </BarChart>
          </ResponsiveContainer>
        </Box>

        <h1 className="text-lg text-[#2D3748] font-bold">Active Users</h1>
        <h1 className="text-[#A0AEC0] text-sm mb-3">
          <span className="text-[#48BB78] text-sm font-bold">(+23)</span> than last week
        </h1>

        <div className="grid grid-cols-2 md:grid-cols-4 gap-6 mt-9">
          {stats.map((item) => (
            <div key={item.label} className="flex flex-col gap-2">

              <div className="flex items-center gap-2">
                <div className="h-7 w-7 rounded-lg bg-[#4FD1C5] flex items-center justify-center">
                  {item.icon}
                </div>

                <span className="text-sm font-semibold text-[#A0AEC0]">
                  {item.label}
                </span>
              </div>

              <div className="text-lg font-bold text-[#2D3748]">
                {item.value}
              </div>

              <div className="h-0.75 w-full rounded-full bg-[#E2E8F0]">
                <div
                  className="h-0.75 rounded-full bg-[#4FD1C5]"
                  style={{ width: `${item.progress}%` }}
                />
              </div>
            </div>
          ))}
        </div>
      </CardContent>
    </Card>
  );
}
